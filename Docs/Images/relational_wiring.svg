<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="920" height="440" viewBox="0 0 920 440" version="1.1">
  <title>Relational Components — Discovery &amp; Wiring</title>
  <desc>Shows scene graph (parent/children) and the OnValidate/Awake scan flow that wires [ParentComponent]/[ChildComponent]/[SiblingComponent] with cached lookups.</desc>
  <rect x="0" y="0" width="920" height="440" fill="#0f0f13"/>
  <g font-family="Verdana,Arial,sans-serif" font-size="14" fill="#c8d1dc">
    <text x="16" y="26">Relational Components — Discovery &amp; Wiring</text>
  </g>
  <!-- scene graph (spaced) -->
  <g fill="#1d2330" stroke="#7aa2ff" stroke-width="2">
    <rect x="80" y="60" width="140" height="46" rx="6"/>
    <rect x="40" y="180" width="140" height="46" rx="6"/>
    <rect x="200" y="180" width="140" height="46" rx="6"/>
  </g>
  <g font-family="Verdana,Arial,sans-serif" font-size="12" fill="#e0e6ee" text-anchor="middle">
    <text x="150" y="90">Parent</text>
    <text x="110" y="208">Child A</text>
    <text x="270" y="208">Child B</text>
  </g>
  <!-- relations -->
  <g stroke="#9fb3c8" stroke-width="2">
    <line x1="150" y1="106" x2="110" y2="180"/>
    <line x1="150" y1="106" x2="270" y2="180"/>
  </g>
  <!-- wiring flow (wider, multi-line, spaced, color-coded) -->
  <g fill="#1d2330" stroke-width="2">
    <!-- Scan box (purple) -->
    <rect x="480" y="60" width="400" height="64" rx="8" stroke="#c792ea"/>
    <!-- Resolve box (gold) -->
    <rect x="480" y="154" width="400" height="64" rx="8" stroke="#e5c07b"/>
    <!-- Bind box (green) -->
    <rect x="480" y="248" width="400" height="64" rx="8" stroke="#5ec69a"/>
  </g>
  <g font-family="Verdana,Arial,sans-serif" font-size="11" fill="#e6ebf2">
    <text x="492" y="82">
      <tspan x="492" dy="0">OnValidate/Awake: scan components</tspan>
      <tspan x="492" dy="16">[Parent] / [Child] / [Sibling]</tspan>
    </text>
    <text x="492" y="176">
      <tspan x="492" dy="0">Resolve via Transform hierarchy</tspan>
      <tspan x="492" dy="16">and cached lookups</tspan>
    </text>
    <text x="492" y="270">
      <tspan x="492" dy="0">Bind fields/properties; rebind</tspan>
      <tspan x="492" dy="16">on hierarchy changes</tspan>
    </text>
  </g>
  <!-- connectors (color match next stage; arrowheads stop before boxes) -->
  <g stroke-width="2">
    <!-- left to first box (purple) -->
    <g stroke="#c792ea" fill="#c792ea">
      <line x1="360" y1="100" x2="468" y2="100"/>
      <polygon points="462,94 462,106 472,100"/>
    </g>
    <!-- between boxes (gold) -->
    <g stroke="#e5c07b" fill="#e5c07b">
      <line x1="680" y1="124" x2="680" y2="146"/>
      <polygon points="674,140 686,140 680,148"/>
    </g>
    <!-- between boxes (green) -->
    <g stroke="#5ec69a" fill="#5ec69a">
      <line x1="680" y1="218" x2="680" y2="240"/>
      <polygon points="674,234 686,234 680,244"/>
    </g>
  </g>
  <!-- legend for color coding -->
  <g font-family="Verdana,Arial,sans-serif" font-size="11">
    <rect x="480" y="330" width="14" height="14" fill="#c792ea" rx="3" ry="3"/>
    <text x="500" y="341" fill="#e6ebf2">Scan</text>
    <rect x="560" y="330" width="14" height="14" fill="#e5c07b" rx="3" ry="3"/>
    <text x="580" y="341" fill="#e6ebf2">Resolve</text>
    <rect x="660" y="330" width="14" height="14" fill="#5ec69a" rx="3" ry="3"/>
    <text x="680" y="341" fill="#e6ebf2">Bind</text>
  </g>
</svg>
